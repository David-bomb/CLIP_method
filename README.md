# –ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–µ –ø–æ—Å–æ–±–∏–µ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.

–í –¥–∞–Ω–Ω–æ–º –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–º –ø–æ—Å–æ–±–∏–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –º–∞–≥–∞–∑–∏–Ω–∞ –º–µ–±–µ–ª–∏ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ <a href="https://huggingface.co/docs/transformers.js/index">`transformers.js`</a> –¥–ª—è –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–µ —á–µ—Ä–µ–∑ CLIP-–º–æ–¥–µ–ª—å. 

–î–ª—è –Ω–∞—á–∞–ª–∞ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–µ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –º–µ–±–µ–ª–∏ —Å –ø—Ä–æ—Å—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø—Ä–æ–∏—Å–∫–æ–º. –ó–∞—Ç–µ–º –º—ã —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º –ø–æ–∏—Å–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.
–ü–µ—Ä–≤–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤–æ –º–Ω–æ–≥–æ–º –ø–æ–≤—Ç–æ—Ä—è—Ç—å –õ–† –ø–æ React, —Ç–∞–∫ —á—Ç–æ –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∏–ª—å–Ω–æ –Ω–µ –±—É–¥–µ–º. 

## –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vite:

```bash
npm create vite@latest furniture-shop -- --template react-ts
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd furniture-shop
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, —Å—Ç–∏–ª–∏, ML-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏):

```bash
npm install react-router-dom bootstrap react-bootstrap @huggingface/transformers 
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –≤–Ω—É—Ç—Ä–∏ `src`:

```
src/
‚îú‚îÄ‚îÄ assets/          # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–º–µ—Å—Ç–∏—Ç–µ —Å—é–¥–∞ —Ñ–∞–π–ª—ã 1.jpg, 2.jpg –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ components/      # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ modules/         # –¢–∏–ø—ã –∏ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ workers/         # Web Workers (–¥–ª—è ML –∑–∞–¥–∞—á)
‚îú‚îÄ‚îÄ App.css
‚îú‚îÄ‚îÄ App.tsx
‚îú‚îÄ‚îÄ index.css
‚îú‚îÄ‚îÄ main.tsx
‚îî‚îÄ‚îÄ vite-env.d.ts
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### `vite.config.ts`
–ù–∞—Å—Ç—Ä–æ–∏–º –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ 3000.

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  server: { port: 3000 },
  plugins: [react()],
})
```

### 4. –ë–∞–∑–æ–≤—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### `src/main.tsx`
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ Bootstrap.

```tsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
import './index.css'
import 'bootstrap/dist/css/bootstrap.min.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```



#### `src/App.tsx`
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

```tsx
import { BrowserRouter, Route, Routes, Navigate } from "react-router-dom";
import { HomePage } from "./pages/HomePage";
import { CatalogPage } from "./pages/CatalogPage";
import { ProductPage } from "./pages/ProductPage";
import 'bootstrap/dist/css/bootstrap.min.css';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        {/* –ì–ª–∞–≤–Ω–∞—è */}
        <Route path="/" element={<HomePage />} />
        
        {/* –ö–∞—Ç–∞–ª–æ–≥ */}
        <Route path="/catalog" element={<CatalogPage />} />
        
        {/* –¢–æ–≤–∞—Ä */}
        <Route path="/catalog/:id" element={<ProductPage />} />

        {/* –ï—Å–ª–∏ –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é */}
        <Route path="*" element={<Navigate to="/" replace />} />
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

### 5. –î–∞–Ω–Ω—ã–µ

#### `src/modules/mock.ts`
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø–∞–ø–∫–µ `src/assets` –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è `1.jpg` ... `8.jpg`. –í–∑—è—Ç—å –∏—Ö –º–æ–∂–Ω–æ –≤ ...

```typescript
import img1 from '../assets/1.jpg';
import img2 from '../assets/2.jpg';
import img3 from '../assets/3.jpg';
import img4 from '../assets/4.jpg';
import img5 from '../assets/5.jpg';
import img6 from '../assets/6.jpg';
import img7 from '../assets/7.jpg';
import img8 from '../assets/8.jpg';

export interface IFurniture {
    id: number;
    name: string;
    description: string;
    price: number;
    image: string;
}

export const FURNITURE_MOCK: IFurniture[] = [
    {
        id: 1,
        name: "–î–∏–≤–∞–Ω '–û–±–ª–∞–∫–æ'",
        description: "–ú—è–≥–∫–∏–π –±–µ–ª—ã–π —Ç—Ä–µ—Ö–º–µ—Å—Ç–Ω—ã–π –¥–∏–≤–∞–Ω —Å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±–∏–≤–∫–æ–π. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≥–æ—Å—Ç–∏–Ω–æ–π –≤ —Å–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–æ–º —Å—Ç–∏–ª–µ.",
        price: 45990,
        image: img1
    },
    {
        id: 2,
        name: "–ö—Ä–µ—Å–ª–æ '–†–µ—Ç—Ä–æ'",
        description: "–£–¥–æ–±–Ω–æ–µ –∫—Ä–µ—Å–ª–æ –Ω–∞ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã—Ö –Ω–æ–∂–∫–∞—Ö. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω 60-—Ö –≥–æ–¥–æ–≤ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏.",
        price: 12500,
        image: img2
    },
    {
        id: 3,
        name: "–°—Ç–æ–ª –æ–±–µ–¥–µ–Ω–Ω—ã–π '–î—É–±'",
        description: "–ú–∞—Å—Å–∏–≤–Ω—ã–π —Å—Ç–æ–ª –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –¥—É–±–∞. –ü–æ–∫—Ä—ã—Ç –∑–∞—â–∏—Ç–Ω—ã–º –º–∞—Å–ª–æ–º. –í–º–µ—â–∞–µ—Ç –¥–æ 6 —á–µ–ª–æ–≤–µ–∫.",
        price: 28000,
        image: img3
    },
    {
        id: 4,
        name: "–°—Ç—É–ª '–≠–π–º—Å'",
        description: "–≠—Ä–≥–æ–Ω–æ–º–∏—á–Ω—ã–π –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π —Å—Ç—É–ª —Å –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–º–∏ –Ω–æ–∂–∫–∞–º–∏. –õ–µ–≥–∫–∏–π, –ø—Ä–æ—á–Ω—ã–π –∏ —Å—Ç–∏–ª—å–Ω—ã–π.",
        price: 3500,
        image: img4
    },
    {
        id: 5,
        name: "–¢–æ—Ä—à–µ—Ä '–õ–æ—Ñ—Ç'",
        description: "–°—Ç–∏–ª—å–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π —Ç–æ—Ä—à–µ—Ä –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ. –†–µ–≥—É–ª–∏—Ä—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –∏ –Ω–∞–∫–ª–æ–Ω –ø–ª–∞—Ñ–æ–Ω–∞.",
        price: 4200,
        image: img5
    },
    {
        id: 6,
        name: "–ö–æ–º–æ–¥ '–í–∏–Ω—Ç–∞–∂'",
        description: "–í–º–µ—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–æ–¥ —Å —Ç—Ä–µ–º—è —è—â–∏–∫–∞–º–∏. –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ —Å–æ—Å—Ç–∞—Ä–µ–Ω–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –ø—Ä–∏–¥–∞–µ—Ç –æ—Å–æ–±—ã–π —à–∞—Ä–º.",
        price: 18900,
        image: img6
    },
    {
        id: 7,
        name: "–ü–æ–ª–∫–∞ –Ω–∞–≤–µ—Å–Ω–∞—è",
        description: "–õ–∞–∫–æ–Ω–∏—á–Ω–∞—è –ø–æ–ª–∫–∞ –¥–ª—è –∫–Ω–∏–≥ –∏ –¥–µ–∫–æ—Ä–∞. –°–∫—Ä—ã—Ç–æ–µ –∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø–∞—Ä–µ–Ω–∏—è.",
        price: 1500,
        image: img7
    },
    {
        id: 8,
        name: "–ü—É—Ñ –≤—è–∑–∞–Ω—ã–π",
        description: "–£—é—Ç–Ω—ã–π –≤—è–∑–∞–Ω—ã–π –ø—É—Ñ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –û—Ç–ª–∏—á–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç –∑–æ–Ω—É –æ—Ç–¥—ã—Ö–∞.",
        price: 2900,
        image: img8
    }
];
```

### 6. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `src/components/BreadCrumbs.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç "—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏" –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

```tsx
import "./BreadCrumbs.css";
import React from "react";
import { Link } from "react-router-dom";
import type { FC } from "react";

interface ICrumb {
  label: string;
  path?: string;
}

interface BreadCrumbsProps {
  crumbs: ICrumb[];
}

export const BreadCrumbs: FC<BreadCrumbsProps> = (props) => {
  const { crumbs } = props;

  return (
    <ul className="breadcrumbs">
      <li>
        <Link to="/">–ì–ª–∞–≤–Ω–∞—è</Link>
      </li>
      {!!crumbs.length &&
        crumbs.map((crumb, index) => (
          <React.Fragment key={index}>
            <li className="slash">/</li>
            {index === crumbs.length - 1 ? (
              <li>{crumb.label}</li>
            ) : (
              <li>
                <Link to={crumb.path || ""}>{crumb.label}</Link>
              </li>
            )}
          </React.Fragment>
        ))}
    </ul>
  );
};
```

#### `src/components/BreadCrumbs.css`
```css
:root {
  --active_color: black;
  --additional_color: gray;
}
.breadcrumbs {
  list-style: none;
  display: flex;
  gap: 10px;
  padding: 20px 0; 
}
.breadcrumbs * {
  color: var(--additional_color);
  text-decoration: none;
  transition: 0.3s;
}
.breadcrumbs *:not(.slash):hover {
  color: var(--active_color);
}
.breadcrumbs li:last-child {
  color: var(--active_color);
  font-weight: bold;
  cursor: default;
}
```

#### `src/components/FurnitureCard.tsx`
–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞.

```tsx
import type { FC } from "react";
import { Button, Card } from "react-bootstrap";
import "./FurnitureCard.css";

interface Props {
  id: number;
  name: string;
  description: string;
  price: number;
  image: string;
  onClick: (id: number) => void;
}

export const FurnitureCard: FC<Props> = ({ id, name, description, price, image, onClick }) => {
  return (
    <Card className="furniture-card h-100 shadow-sm">
      <div className="img-wrapper" onClick={() => onClick(id)}>
        <Card.Img variant="top" src={image} className="furniture-img" />
      </div>
      <Card.Body className="d-flex flex-column">
        <Card.Title>{name}</Card.Title>
        <Card.Text className="description text-muted">
          {description}
        </Card.Text>
        <div className="mt-auto">
          <h5 className="price-tag">{price.toLocaleString('ru-RU')} ‚ÇΩ</h5>
          <Button variant="dark" className="w-100" onClick={() => onClick(id)}>
            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
          </Button>
        </div>
      </Card.Body>
    </Card>
  );
};
```

#### `src/components/FurnitureCard.css`
```css
.furniture-card {
    transition: transform 0.2s;
    cursor: pointer;
}
.furniture-card:hover {
    transform: translateY(-5px);
}
.img-wrapper {
    height: 200px;
    overflow: hidden;
}
.furniture-img {
    height: 100%;
    width: 100%;
    object-fit: cover; 
}
.description {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    font-size: 0.9rem;
}
.price-tag {
    font-weight: bold;
    color: #333;
    margin-bottom: 15px;
}
```

#### `src/components/SearchBar.tsx`
–ü–æ–ª–µ –ø–æ–∏—Å–∫–∞.

```tsx
import type { FC } from 'react';
import { Button, Form, InputGroup } from 'react-bootstrap';

interface Props {
    value: string;
    setValue: (value: string) => void;
}

export const SearchBar: FC<Props> = ({ value, setValue }) => (
    <InputGroup className="mb-4">
        <Form.Control
            placeholder="–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ? (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∏–≤–∞–Ω)"
            value={value}
            onChange={(e) => setValue(e.target.value)}
        />
        <Button variant="outline-secondary" onClick={() => setValue('')}>
            –û—á–∏—Å—Ç–∏—Ç—å
        </Button>
    </InputGroup>
)
```

### 7. –°—Ç—Ä–∞–Ω–∏—Ü—ã

#### `src/pages/HomePage.tsx`
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

```tsx
import type { FC } from "react";
import { Link } from "react-router-dom";
import { Button, Container } from "react-bootstrap";

export const HomePage: FC = () => {
  return (
    <div style={{
        minHeight: "100vh", 
        width: "100%",
        display: "flex", 
        alignItems: "center", 
        justifyContent: "center",
        flexDirection: "column",
        backgroundColor: "#f8f9fa",
        padding: "20px"
    }}>
      <Container className="text-center">
        <h1 className="display-1 fw-bold mb-3">Modern Living</h1>
        <p className="lead mb-5 fs-3">
          –°–æ–∑–¥–∞–π—Ç–µ —É—é—Ç —Å –Ω–∞—à–µ–π –Ω–æ–≤–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –º–µ–±–µ–ª–∏
        </p>
        <Link to="/catalog">
          <Button variant="dark" size="lg" className="px-5 py-3 fs-5">
            –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥
          </Button>
        </Link>
      </Container>
    </div>
  );
};
```

#### `src/pages/CatalogPage.tsx`
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –ø–æ–∏—Å–∫–æ–º –∏ —Å–ø–∏—Å–∫–æ–º —Ç–æ–≤–∞—Ä–æ–≤.

```tsx
import { useState, useEffect } from "react";
import type { FC } from "react";
import { Container, Row, Col } from "react-bootstrap";
import { useNavigate } from "react-router-dom";
import { FURNITURE_MOCK } from "../modules/mock";
import type { IFurniture } from "../modules/mock";
import { FurnitureCard } from "../components/FurnitureCard";
import { SearchBar } from "../components/SearchBar";
import { BreadCrumbs } from "../components/BreadCrumbs";

export const CatalogPage: FC = () => {
  const [searchTerm, setSearchTerm] = useState("");
  const [displayedItems, setDisplayedItems] = useState<IFurniture[]>(FURNITURE_MOCK);
  
  const navigate = useNavigate();

  useEffect(() => {
    const filtered = FURNITURE_MOCK.filter(item => 
        item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        item.description.toLowerCase().includes(searchTerm.toLowerCase())
    );
    setDisplayedItems(filtered);
  }, [searchTerm]);

  const handleCardClick = (id: number) => {
    navigate(`/catalog/${id}`);
  };

  return (
    <Container className="py-4">
      <BreadCrumbs crumbs={[{ label: "–ö–∞—Ç–∞–ª–æ–≥" }]} />
      
      <h1 className="mb-4">–ö–∞—Ç–∞–ª–æ–≥ –º–µ–±–µ–ª–∏</h1>
      
      <SearchBar 
        value={searchTerm} 
        setValue={setSearchTerm} 
      />

      {displayedItems.length === 0 ? (
         <div className="text-center mt-5">
            <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ :(</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å</p>
         </div>
      ) : (
        <Row xs={1} md={2} lg={4} className="g-4">
            {displayedItems.map((item) => (
                <Col key={item.id}>
                    <FurnitureCard 
                        {...item} 
                        onClick={handleCardClick}
                    />
                </Col>
            ))}
        </Row>
      )}
    </Container>
  );
};
```

#### `src/pages/ProductPage.tsx`
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.

```tsx
import type { FC } from "react";
import { useParams } from "react-router-dom";
import { Container, Row, Col, Image, Button, Badge } from "react-bootstrap";
import { BreadCrumbs } from "../components/BreadCrumbs";
import { FURNITURE_MOCK } from "../modules/mock";

export const ProductPage: FC = () => {
  const { id } = useParams();
  
  const product = FURNITURE_MOCK.find(item => String(item.id) === id);

  if (!product) {
      return (
          <Container className="py-5 text-center">
              <h2>–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</h2>
              <Button href="/catalog" variant="primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</Button>
          </Container>
      )
  }

  return (
    <Container className="py-4">
      <BreadCrumbs
        crumbs={[
          { label: "–ö–∞—Ç–∞–ª–æ–≥ –º–µ–±–µ–ª–∏", path: "/catalog" },
          { label: product.name },
        ]}
      />
      
      <Row className="mt-4">
        <Col md={6} className="mb-4">
          <Image src={product.image} alt={product.name} fluid rounded className="shadow" />
        </Col>
        
        <Col md={6}>
          <Badge bg="secondary" className="mb-2">ID: {product.id}</Badge>
          <h1 className="display-5">{product.name}</h1>
          <h2 className="text-primary my-3">{product.price.toLocaleString('ru-RU')} ‚ÇΩ</h2>
          <p className="lead">{product.description}</p>
          
          <div className="d-grid gap-2 mt-5">
            <Button variant="dark" size="lg">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</Button>
            <Button variant="outline-dark">–ö—É–ø–∏—Ç—å –≤ 1 –∫–ª–∏–∫</Button>
          </div>
        </Col>
      </Row>
    </Container>
  );
};
```

### 8. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

#### `src/index.css`
```css
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run dev
```

–¢—É—Ç —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ–µ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞.

(—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)


## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CLIP-–º–æ–¥–µ–ª–∏

### –¢–µ–æ—Ä–∏—è –ø—Ä–æ CLIP

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (Deep Learning), –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä (Transformer). –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–º–∞–≥–∏—è" —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —Ç–µ–∫—Å—Ç–∞, —Ä–∞–∑–±–µ—Ä–µ–º –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

#### 1. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –∫–∞–∫ ¬´—á–µ—Ä–Ω—ã–π —è—â–∏–∫¬ª
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä, —Å–æ–≤–µ—Ä—à–∏–≤—à–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—é –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ (NLP), —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤:
*   **–≠–Ω–∫–æ–¥–µ—Ä (Encoder)** - –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–≤–æ–¥ –∏—Ö –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.
*   **–î–µ–∫–æ–¥–µ—Ä (Decoder)** - –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞.

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Ç–æ–ª—å–∫–æ **–≠–Ω–∫–æ–¥–µ—Ä**. –ú–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –∫–∞–∫ ¬´—á–µ—Ä–Ω—ã–π —è—â–∏–∫¬ª: –Ω–∞ –≤—Ö–æ–¥ –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ), –∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ –≤—ã–¥–∞–µ—Ç **—ç–º–±–µ–¥–¥–∏–Ω–≥** - –ø–ª–æ—Ç–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –≤–µ–∫—Ç–æ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã. –≠—Ç–æ—Ç –≤–µ–∫—Ç–æ—Ä —è–≤–ª—è–µ—Ç—Å—è "—Å–º—ã—Å–ª–æ–≤—ã–º —Å–ª–µ–ø–∫–æ–º" –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –µ—Å–ª–∏ –¥–≤–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏ –ø–æ —Å–º—ã—Å–ª—É, –∏—Ö –≤–µ–∫—Ç–æ—Ä—ã-—ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.

#### 2. –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã (Vision Transformers)
–î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –∫ —Ç–µ–∫—Å—Ç—É. –û–¥–Ω–∞–∫–æ –≤—ã—è—Å–Ω–∏–ª–æ—Å—å, —á—Ç–æ –≠–Ω–∫–æ–¥–µ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞ - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ. –ï–º—É –Ω–µ–≤–∞–∂–Ω–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ–¥–∞–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥, –≥–ª–∞–≤–Ω–æ–µ - –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ß—Ç–æ–±—ã —Å–∫–æ—Ä–º–∏—Ç—å –≠–Ω–∫–æ–¥–µ—Ä—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (Vision Transformer, ViT):
1.  **–ù–∞—Ä–µ–∑–∫–∞ –Ω–∞ –ø–∞—Ç—á–∏:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ç–∫—É –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 16x16 –ø–∏–∫—Å–µ–ª–µ–π).
2.  **–õ–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è:** –ö–∞–∂–¥—ã–π –∫–≤–∞–¥—Ä–∞—Ç (–ø–∞—Ç—á) "–≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è" –≤ –ø–ª–æ—Å–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∏–∫—Å–µ–ª–µ–π. –¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞–±–æ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, –∫–∞–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞–±–æ—Ä —Å–ª–æ–≤.
3.  **–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (Positional Encoding):** –ß—Ç–æ–±—ã –º–æ–¥–µ–ª—å –ø–æ–Ω–∏–º–∞–ª–∞, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–∞–∫–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç (–≥–¥–µ –ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª, –∞ –≥–¥–µ —Ü–µ–Ω—Ç—Ä), –∫ –¥–∞–Ω–Ω—ã–º –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—á–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –ø–æ–∑–∏—Ü–∏–∏.
4.  **–≠–º–±–µ–¥–¥–∏–Ω–≥:** –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–ª–æ–∏ –≠–Ω–∫–æ–¥–µ—Ä–∞, –∏ –Ω–∞ –≤—ã—Ö–æ–¥–µ –º—ã –ø–æ–ª—É—á–∞–µ–º –æ–¥–∏–Ω –∏—Ç–æ–≥–æ–≤—ã–π –≤–µ–∫—Ç–æ—Ä - **—ç–º–±–µ–¥–¥–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**.

#### 3. –ú–æ–¥–µ–ª—å CLIP: –µ–¥–∏–Ω–æ–µ —Å–º—ã—Å–ª–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
–ü—Ä–æ–±–ª–µ–º–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –≤ —Ç–æ–º, —á—Ç–æ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ä–∞–∑–Ω—ã—Ö "–º–∏—Ä–∞—Ö". –í–µ–∫—Ç–æ—Ä —Å–ª–æ–≤–∞ "—Å–æ–±–∞–∫–∞" –∏ –≤–µ–∫—Ç–æ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ–±–∞–∫–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–∞–∑–Ω—ã–º–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω—ã. –ò—Ö –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å.

–ó–¥–µ—Å—å –Ω–∞ —Å—Ü–µ–Ω—É –≤—ã—Ö–æ–¥–∏—Ç **CLIP (Contrastive Language-Image Pre-training)**.
CLIP - —ç—Ç–æ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–±—É—á–∞–µ—Ç –¥–≤–∞ –≠–Ω–∫–æ–¥–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
1.  **Text Encoder:** –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä.
2.  **Image Encoder:** –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –≤–µ–∫—Ç–æ—Ä.

–ì–ª–∞–≤–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å CLIP –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —ç—Ç–∏ –¥–≤–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞ –æ–±—É—á–∞—é—Ç—Å—è —Ç–∞–∫, —á—Ç–æ–±—ã **–ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ–±—â–µ–µ —Å–º—ã—Å–ª–æ–≤–æ–µ (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ) –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç –º–∏–ª–ª–∏–æ–Ω—ã –ø–∞—Ä "–∫–∞—Ä—Ç–∏–Ω–∫–∞ + –æ–ø–∏—Å–∞–Ω–∏–µ" –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–≤–æ–∏ –≤–µ—Å–∞ —Ç–∞–∫, —á—Ç–æ–±—ã:
*   –í–µ–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±–∞–∫–∏ –∏ –≤–µ–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ "—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —Å–æ–±–∞–∫–∏" –±—ã–ª–∏ **–±–ª–∏–∑–∫–∏**.
*   –í–µ–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±–∞–∫–∏ –∏ –≤–µ–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ "—Ç–∞—Ä–µ–ª–∫–∞ —Å—É–ø–∞" –±—ã–ª–∏ **–¥–∞–ª–µ–∫–∏** –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

#### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ CLIP (–∏ –µ–≥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ SigLIP) —Å–æ–∑–¥–∞–µ—Ç –µ–¥–∏–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π, –º—ã –º–æ–∂–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
1.  –ë–µ—Ä–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ–≥–æ–Ω—è–µ–º —á–µ—Ä–µ–∑ **Image Encoder** $\rightarrow$ –ø–æ–ª—É—á–∞–µ–º –≤–µ–∫—Ç–æ—Ä $V_{img}$.
2.  –ë–µ—Ä–µ–º –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –±–∞–∑–µ –∏ –ø—Ä–æ–≥–æ–Ω—è–µ–º —á–µ—Ä–µ–∑ **Text Encoder** $\rightarrow$ –ø–æ–ª—É—á–∞–µ–º –Ω–∞–±–æ—Ä –≤–µ–∫—Ç–æ—Ä–æ–≤ $V_{text\_1}, V_{text\_2}, \dots$.
3.  –°—á–∏—Ç–∞–µ–º **–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ** (Cosine Similarity) –º–µ–∂–¥—É $V_{img}$ –∏ –∫–∞–∂–¥—ã–º –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤.
4.  –¢–æ–≤–∞—Ä—ã, —á—å–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –æ–∫–∞–∑–∞–ª–∏—Å—å "–±–ª–∏–∂–µ" –≤—Å–µ–≥–æ –∫ –≤–µ–∫—Ç–æ—Ä—É –∫–∞—Ä—Ç–∏–Ω–∫–∏, –∏ —è–≤–ª—è—é—Ç—Å—è –∏—Å–∫–æ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.

–í –¥–∞–Ω–Ω–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥–µ–ª—å <a href="https://huggingface.co/Xenova/siglip-base-patch16-224">SigLIP</a> (—É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é CLIP –æ—Ç Google), –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É, –Ω–æ –æ–±–ª–∞–¥–∞–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤.

### –ß—Ç–æ —Ç–∞–∫–æ–µ transfomers.js?

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, `transformers.js` - —ç—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <a href="https://huggingface.co/docs/transformers/index">HF Transformers</a> —Å python –Ω–∞ JavaScript. –°—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ—Å—Ç–∞—Ä–∞–ª–∏—Å—å –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ JS, —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å **—Ç–æ–ª—å–∫–æ** —á–µ—Ä–µ–∑ python, —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ JavaScript. 

–¢–µ–ø–µ—Ä—å –±—ã—Å—Ç—Ä–µ–Ω—å–∫–æ –ø–µ—Ä–µ–ø–∏—à–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏ –ø–æ–¥—Ä–æ–Ω–±–Ω–æ —Ä–∞–∑–±–µ—Ä–µ–º —Å–∞–º—É –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å `transfomers.js` –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ. 


### `src/modules/math.ts`
–°–æ–∑–¥–∞–¥–∏–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞ –≤–µ–∫—Ç–æ—Ä–æ–≤.

```typescript
export function cosineSimilarity(vecA: number[], vecB: number[]): number {
    let dotProduct = 0;
    let normA = 0;
    let normB = 0;

    for (let i = 0; i < vecA.length; i++) {
        dotProduct += vecA[i] * vecB[i];
        normA += vecA[i] * vecA[i];
        normB += vecB[i] * vecB[i];
    }

    if (normA === 0 || normB === 0) return 0;
    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));
}
```

### `src/components/SearchBar.tsx`
–û–±–Ω–æ–≤–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞. –¢–µ–ø–µ—Ä—å –æ–Ω —É–º–µ–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∫—Ä—ã—Ç—ã–π input file.

```tsx
import { useRef } from 'react';
import type {FC} from 'react';
import { Button, Form, InputGroup, Spinner } from 'react-bootstrap';

interface Props {
    value: string;
    setValue: (value: string) => void;
    onImageSelect: (file: File) => void;
    isProcessing?: boolean;
}

export const SearchBar: FC<Props> = ({ value, setValue, onImageSelect, isProcessing }) => {
    const fileInputRef = useRef<HTMLInputElement>(null);

    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        if (e.target.files && e.target.files[0]) {
            onImageSelect(e.target.files[0]);
        }
    };

    return (
        <InputGroup className="mb-4">
            <Form.Control
                placeholder="–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ? (—Ç–µ–∫—Å—Ç –∏–ª–∏ —Ñ–æ—Ç–æ)"
                value={value}
                onChange={(e) => setValue(e.target.value)}
                disabled={isProcessing}
            />
            {/* –°–∫—Ä—ã—Ç—ã–π –∏–Ω–ø—É—Ç –¥–ª—è —Ñ–∞–π–ª–∞ */}
            <input 
                type="file" 
                accept="image/*" 
                ref={fileInputRef} 
                style={{ display: 'none' }} 
                onChange={handleFileChange}
            />
            
            <Button 
                variant="outline-secondary" 
                onClick={() => fileInputRef.current?.click()}
                disabled={isProcessing}
                title="–ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–µ"
            >
                {isProcessing ? <Spinner animation="border" size="sm" /> : "üì∑ –§–æ—Ç–æ"}
            </Button>

            <Button 
                variant="outline-secondary" 
                onClick={() => setValue('')}
                disabled={isProcessing}
            >
                –û—á–∏—Å—Ç–∏—Ç—å
            </Button>
        </InputGroup>
    );
}
```

### `CatalogPage.tsx`

–î–æ–±–∞–≤–∏–º –∑–∞–≥—Ä—É–∑–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π –≤ –∫–∞—Ç–∞–ª–æ–∫.

```tsx
import { useState, useEffect, useRef } from "react";
import type { FC } from "react";
import { Container, Row, Col, ProgressBar } from "react-bootstrap";
import { useNavigate } from "react-router-dom";
import { FURNITURE_MOCK } from "../modules/mock";
import type { IFurniture } from "../modules/mock";
import { FurnitureCard } from "../components/FurnitureCard";
import { SearchBar } from "../components/SearchBar";
import { BreadCrumbs } from "../components/BreadCrumbs";

export const CatalogPage: FC = () => {
  const [searchTerm, setSearchTerm] = useState("");
  const [displayedItems, setDisplayedItems] = useState<IFurniture[]>(FURNITURE_MOCK);
  
  // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è ML –ø–æ–∏—Å–∫–∞
  const [isProcessing, setIsProcessing] = useState(false);
  const [progress, setProgress] = useState(0);
  const [loadingText, setLoadingText] = useState("");
  const [searchMode, setSearchMode] = useState<'text' | 'image'>('text');

  const navigate = useNavigate();
  const workerRef = useRef<Worker | null>(null);

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ—Ä–∫–µ—Ä–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  useEffect(() => {
    workerRef.current = new Worker(new URL('../workers/search.worker.ts', import.meta.url), {
        type: 'module'
    });

    workerRef.current.onmessage = (event) => {
        const { status, data, results } = event.data;

        if (status === 'progress') {
            // data.status –º–æ–∂–µ—Ç –±—ã—Ç—å 'initiate', 'download', 'progress', 'done'
            if (data.status === 'progress') {
                setProgress(data.progress);
                setLoadingText(`–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏: ${Math.round(data.progress)}%`);
            } else if (data.status === 'initiate') {
                setLoadingText("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏...");
                setIsProcessing(true);
            }
        } 
        else if (status === 'analyzing') {
            setLoadingText("–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏–π...");
            setProgress(100);
        }
        else if (status === 'complete') {
            setIsProcessing(false);
            setLoadingText("");
            // results - —ç—Ç–æ –º–∞—Å—Å–∏–≤ { id, score } –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
            const sortedIds = results.map((r: any) => r.id);
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º mock –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º ML
            const sortedProducts = sortedIds
                .map((id: number) => FURNITURE_MOCK.find(item => item.id === id))
                .filter((item: IFurniture | undefined) => item !== undefined) as IFurniture[];

            setDisplayedItems(sortedProducts);
            setSearchMode('image');
        }
        else if (status === 'error') {
            console.error(event.data.error);
            setIsProcessing(false);
            alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é. –°–º. –∫–æ–Ω—Å–æ–ª—å.");
        }
    };

    return () => {
        workerRef.current?.terminate();
    };
  }, []);

  // –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
  useEffect(() => {
      if (searchMode === 'text') {
        const filtered = FURNITURE_MOCK.filter(item => 
            item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            item.description.toLowerCase().includes(searchTerm.toLowerCase())
        );
        setDisplayedItems(filtered);
      }
  }, [searchTerm, searchMode]);

  // –°–±—Ä–æ—Å —Ä–µ–∂–∏–º–∞ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞
  const handleTextSearchChange = (val: string) => {
      setSearchMode('text');
      setSearchTerm(val);
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
  const handleImageSelect = (file: File) => {
      if (!workerRef.current) return;
      
      setSearchMode('image');
      setIsProcessing(true);
      setDisplayedItems([]); // –û—á–∏—â–∞–µ–º –ø–æ–∫–∞ –∏—â–µ–º
      setSearchTerm(`–ü–æ–∏—Å–∫ –ø–æ —Ñ–æ—Ç–æ: ${file.name}`);
      
      workerRef.current.postMessage({
        type: 'search',
        imageBlob: file,
        items: FURNITURE_MOCK
      });
  }

  return (
    <Container className="py-4">
      <BreadCrumbs crumbs={[{ label: "–ö–∞—Ç–∞–ª–æ–≥ –º–µ–±–µ–ª–∏" }]} />
      <h1 className="mb-4">–ö–∞—Ç–∞–ª–æ–≥</h1>
      
      <SearchBar 
        value={searchTerm} 
        setValue={handleTextSearchChange} 
        onImageSelect={handleImageSelect}
        isProcessing={isProcessing}
      />

      {isProcessing && (
        <div className="mb-3">
          <div className="mb-2">{loadingText}</div>
          <ProgressBar now={progress} label={`${Math.round(progress)}%`} animated />
        </div>
      )}

      <Row>
        {displayedItems.map((item) => (
          <Col key={item.id} md={4} lg={3} className="mb-4">
            <FurnitureCard
              {...item}
              onClick={(id) => navigate(`/catalog/${id}`)}
            />
          </Col>
        ))}
      </Row>
    </Container>
  );
};
```

### `src/workers/search.worker.ts`
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ª–æ–≥–∏–∫–∏ –ø–æ–∏—Å–∫–∞. –ú—ã –≤—ã–Ω–æ—Å–∏–º —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –≤ Web Worker, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –†–∞–∑–±–µ—Ä–µ–º –µ–≥–æ –ø–æ —á–∞—Å—Ç—è–º.

**1. –ò–º–ø–æ—Ä—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É `transformers` –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥–µ–ª—å SigLIP. –ó–¥–µ—Å—å —Ç–∞–∫–∂–µ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª–æ, —á—Ç–æ –Ω–µ –∏—â–µ–º –º–æ–¥–µ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ, –∞ –Ω–∞–æ–±–æ—Ä–æ—Ç, —Å–∫–∞—á–∏–≤–∞–µ–º –∏—Ö —Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. 
–¢–∞–∫–∂–µ –∑–¥–µ—Å—å –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ `TOP_K`, –æ–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ–∏—Å–∫–µ (–ø–æ —É–±—ã–≤–∞–Ω–∏—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏).

```typescript
import { 
    env, 
    AutoTokenizer, 
    AutoProcessor, 
    SiglipTextModel, 
    SiglipVisionModel,
    RawImage 
} from '@huggingface/transformers';
import { cosineSimilarity } from '../modules/math';

// –ù–ê–°–¢–†–û–ô–ö–ò –û–ö–†–£–ñ–ï–ù–ò–Ø
env.allowLocalModels = false;
env.allowRemoteModels = true;

const MODEL_ID = 'Xenova/siglip-base-patch16-224'; 
const TOP_K = 3; 
```

**2. –°–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏**
–°–æ–∑–¥–∞–µ–º –∫–ª–∞—Å—Å-—Å–∏–Ω–≥–ª—Ç–æ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –º–æ–¥–µ–ª–∏, —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. (–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Å—Å—ã–ª–∫–∞–º –ø—Ä–æ <a href="https://huggingface.co/docs/transformers.js/api/models">–º–æ–¥–µ–ª–∏</a>, <a href="https://huggingface.co/docs/transformers.js/api/tokenizers">—Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä—ã</a>, <a href="https://huggingface.co/docs/transformers.js/api/processors">–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã</a> –≤ transformers.js).

–í modelOptions –º—ã –∑–∞–¥–∞–∞–µ–º 2 –ø–∞—Ä–∞–º–µ–Ω—Ç—Ä–∞:
1) `device` - –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ **wasm**, —Ç–∞–∫ –∏ **webgpu**.
2) `dtype` - —ç—Ç–æ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏. –ó–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å: full-precision ("fp32"), half-precision ("fp16"), 8-bit ("q8", "int8", "uint8"), –∏ 4-bit ("q4", "bnb4", "q4f16"). –ü–æ–¥—Ä–æ–±–Ω–æ –æ —Ç–æ–º, —á—Ç–æ —Ç–∞–∫–æ–µ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è <a href="https://habr.com/ru/articles/887466/?ysclid=miw807a8w1320661335">—Ç—É—Ç</a>.


```typescript
class SiglipService {
    static tokenizer: any = null;
    static processor: any = null;
    static textModel: any = null;
    static visionModel: any = null;

    static async init(progress_callback?: (data: any) => void) {
        if (!this.tokenizer) {
            console.log(`–ó–∞–≥—Ä—É–∑–∫–∞ SigLIP (${MODEL_ID})...`);

            const modelOptions = {
                device: 'wasm',
                dtype: 'q8', 
            } as const;

            this.tokenizer = await AutoTokenizer.from_pretrained(MODEL_ID, { progress_callback });
            this.processor = await AutoProcessor.from_pretrained(MODEL_ID, { progress_callback });
            
            this.visionModel = await SiglipVisionModel.from_pretrained(MODEL_ID, {
                ...modelOptions,
                progress_callback
            });

            this.textModel = await SiglipTextModel.from_pretrained(MODEL_ID, {
                ...modelOptions,
                progress_callback
            });
        }
    }
}
```

**3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
–í–æ—Ä–∫–µ—Ä —Å–ª—É—à–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏, –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ—ë –≤ –≤–µ–∫—Ç–æ—Ä (—ç–º–±–µ–¥–¥–∏–Ω–≥) —Å –ø–æ–º–æ—â—å—é Vision Model.

```typescript
self.addEventListener('message', async (event) => {
    const { type, imageBlob, items } = event.data;

    if (type === 'search') {
        try {
            await SiglipService.init((data: any) => {
                self.postMessage({ status: 'progress', data });
            });

            self.postMessage({ status: 'analyzing' });

            // 1. –û–ë–†–ê–ë–û–¢–ö–ê –ö–ê–†–¢–ò–ù–ö–ò
            const imageUrl = URL.createObjectURL(imageBlob);
            const image = await RawImage.read(imageUrl);
            
            const image_inputs = await SiglipService.processor(image);
            const { pooler_output: imageOutput } = await SiglipService.visionModel(image_inputs);
            const imageVector = imageOutput.data; 
```

**4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ**
–î–∞–ª–µ–µ –º—ã –±–µ—Ä–µ–º –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤, –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –∏—Ö –≤ –≤–µ–∫—Ç–æ—Ä—ã —Å –ø–æ–º–æ—â—å—é Text Model –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –≤–µ–∫—Ç–æ—Ä–æ–º –∫–∞—Ä—Ç–∏–Ω–∫–∏ —á–µ—Ä–µ–∑ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ.

```typescript
            // 2. –û–ë–†–ê–ë–û–¢–ö–ê –¢–ï–ö–°–¢–ê
            const descriptions = items.map((item: any) => item.description);
            
            const text_inputs = await SiglipService.tokenizer(descriptions, { 
                padding: true, 
                truncation: true 
            });

            const { pooler_output: textOutput } = await SiglipService.textModel(text_inputs);
            
            // 3. –°–†–ê–í–ù–ï–ù–ò–ï
            const embeddingSize = 768; 
            const scores: { id: number, score: number, name: string }[] = [];

            for (let i = 0; i < items.length; i++) {
                const start = i * embeddingSize;
                const end = start + embeddingSize;
                const textVector = textOutput.data.slice(start, end);

                const sim = cosineSimilarity(Array.from(imageVector), Array.from(textVector));
                
                scores.push({ 
                    id: items[i].id, 
                    score: sim,
                    name: items[i].name 
                });
            }
```

**5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
–°–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —É–±—ã–≤–∞–Ω–∏—é —Å—Ö–æ–¥—Å—Ç–≤–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

```typescript
            // 4. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –í—ã–¥–∞—á–∞
            scores.sort((a, b) => b.score - a.score);
            const results = scores.slice(0, TOP_K);

            self.postMessage({ status: 'complete', results });

            URL.revokeObjectURL(imageUrl);

        } catch (error) {
            console.error("Worker Error:", error);
            self.postMessage({ status: 'error', error: String(error) });
        }
    }
});
```

**–ü–æ–ª–Ω—ã–π –∫–æ–¥ `src/workers/search.worker.ts`:**

```typescript
import { 
    env, 
    AutoTokenizer, 
    AutoProcessor, 
    SiglipTextModel, 
    SiglipVisionModel,
    RawImage 
} from '@huggingface/transformers';
import { cosineSimilarity } from '../modules/math';

// –ù–ê–°–¢–†–û–ô–ö–ò –û–ö–†–£–ñ–ï–ù–ò–Ø
env.allowLocalModels = false;
env.allowRemoteModels = true;

const MODEL_ID = 'Xenova/siglip-base-patch16-224'; 
const TOP_K = 3; 

class SiglipService {
    static tokenizer: any = null;
    static processor: any = null;
    static textModel: any = null;
    static visionModel: any = null;

    static async init(progress_callback?: (data: any) => void) {
        if (!this.tokenizer) {
            console.log(`–ó–∞–≥—Ä—É–∑–∫–∞ SigLIP (${MODEL_ID})...`);

            const modelOptions = {
                device: 'wasm',
                dtype: 'q8', 
            } as const;

            this.tokenizer = await AutoTokenizer.from_pretrained(MODEL_ID, { progress_callback });
            this.processor = await AutoProcessor.from_pretrained(MODEL_ID, { progress_callback });
            
            this.visionModel = await SiglipVisionModel.from_pretrained(MODEL_ID, {
                ...modelOptions,
                progress_callback
            });

            this.textModel = await SiglipTextModel.from_pretrained(MODEL_ID, {
                ...modelOptions,
                progress_callback
            });
        }
    }
}

self.addEventListener('message', async (event) => {
    const { type, imageBlob, items } = event.data;

    if (type === 'search') {
        try {
            await SiglipService.init((data: any) => {
                self.postMessage({ status: 'progress', data });
            });

            self.postMessage({ status: 'analyzing' });

            // 1. –û–ë–†–ê–ë–û–¢–ö–ê –ö–ê–†–¢–ò–ù–ö–ò
            const imageUrl = URL.createObjectURL(imageBlob);
            const image = await RawImage.read(imageUrl);
            
            const image_inputs = await SiglipService.processor(image);
            const { pooler_output: imageOutput } = await SiglipService.visionModel(image_inputs);
            const imageVector = imageOutput.data; 

            // 2. –û–ë–†–ê–ë–û–¢–ö–ê –¢–ï–ö–°–¢–ê
            const descriptions = items.map((item: any) => item.description);
            
            const text_inputs = await SiglipService.tokenizer(descriptions, { 
                padding: true, 
                truncation: true 
            });

            const { pooler_output: textOutput } = await SiglipService.textModel(text_inputs);
            
            // 3. –°–†–ê–í–ù–ï–ù–ò–ï
            const embeddingSize = 768; 
            const scores: { id: number, score: number, name: string }[] = [];

            for (let i = 0; i < items.length; i++) {
                const start = i * embeddingSize;
                const end = start + embeddingSize;
                const textVector = textOutput.data.slice(start, end);

                const sim = cosineSimilarity(Array.from(imageVector), Array.from(textVector));
                
                scores.push({ 
                    id: items[i].id, 
                    score: sim,
                    name: items[i].name 
                });
            }

            console.log("–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ö–æ–¥—Å—Ç–≤–∞:", scores.sort((a, b) => b.score - a.score));

            // 4. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –í—ã–¥–∞—á–∞
            scores.sort((a, b) => b.score - a.score);
            const results = scores.slice(0, TOP_K);

            self.postMessage({ status: 'complete', results });

            URL.revokeObjectURL(imageUrl);

        } catch (error) {
            console.error("Worker Error:", error);
            self.postMessage({ status: 'error', error: String(error) });
        }
    }
});
```
